"use strict";(self.webpackChunkrocket=self.webpackChunkrocket||[]).push([[670],{999:(M,c,e)=>{e.d(c,{z:()=>o});class o{constructor(r,s,n){this.constants=r,this.config=s,this.subject=n}get emptyRocketMass(){return this.config.rocketWeight/1e3}get initialWaterVolume0(){return this.config.waterAmount/1e3}get initialWaterMass0(){return this.initialWaterVolume0*this.constants.rhoWater}get pressureTankVolume(){return this.config.tankVolume/1e3}get initialPressure0(){return 1e5*this.config.initialPressure}get initialAirVolume0(){return Math.max(this.pressureTankVolume-this.initialWaterVolume0,0)*Math.pow(this.initialPressure0/this.constants.pAmb,1/this.constants.gammaAir)}get initialAirMass0(){return this.initialAirVolume0*this.constants.rhoAir}get totalMass0(){return this.emptyRocketMass+this.initialWaterMass0+this.initialAirMass0}get nozzleArea(){return Math.PI*Math.pow(this.config.nozzleDiameter/1e3/2,2)}get rocketArea(){return Math.PI*Math.pow(this.config.rocketDiameter/1e3/2,2)}get currentWaterVolume(){return Math.max((this.mass-this.emptyRocketMass-this.initialAirMass0)/this.constants.rhoWater,0)}computeWaterThrust(r,s){const n=this.initialPressure0*Math.pow((this.pressureTankVolume-this.initialWaterVolume0)/(this.pressureTankVolume-this.currentWaterVolume),this.constants.gammaAir);if(n<=this.constants.pAmb)return 0;const a=Math.sqrt(2*(n-this.constants.pAmb)/this.constants.rhoWater),p=this.nozzleArea*a*this.constants.rhoWater,h=p*a;return this.mass-=p*r,s.pressure=n/1e5,s.flowVelocity=a,s.massFlowRate=p,h}computeAirThrust(r,s){const a=this.initialPressure0*Math.pow((this.pressureTankVolume-this.initialWaterVolume0)/(this.pressureTankVolume-this.currentWaterVolume+this.expelledAirMass/this.constants.rhoAir),this.constants.gammaAir);if(a<=this.constants.pAmb)return 0;const p=Math.sqrt(2*(a-this.constants.pAmb)/this.constants.rhoAir),h=this.nozzleArea*p*this.constants.rhoAir,i=h*p;return this.mass-=h*r,this.expelledAirMass+=h*r,s.pressure=a/1e5,s.flowVelocity=p,s.massFlowRate=h,i}get gravityForce(){return this.mass*this.constants.g}get dragForce(){return this.config.dragCoefficient*this.rocketArea*.5*this.constants.rhoAir*Math.pow(this.velocity,2)}init(){this.time=0,this.height=0,this.velocity=0,this.expelledAirMass=0,this.mass=this.totalMass0}tick(r){const s={time:this.time,mass:0,height:0,thrust:0,pressure:0,velocity:0,acceleration:0,flowVelocity:0,massFlowRate:0};let n=0;return this.mass>this.emptyRocketMass+this.initialAirMass0?n=this.computeWaterThrust(r,s):this.emptyRocketMass<this.mass&&this.mass<this.emptyRocketMass+this.initialAirMass0&&(n=this.computeAirThrust(r,s)),s.acceleration=(n-this.gravityForce-this.dragForce)/this.mass,this.velocity+=s.acceleration*r,this.height+=this.velocity*r,s.mass=1e3*this.mass,s.thrust=n,s.height=this.height,s.velocity=this.velocity,s}computeSteps(){const r=[];for(let n=0;n<1e5;n++){const a=this.tick(this.config.timeStep);if(this.subject.next(a),this.time+=this.config.timeStep,r.push(a),a.height<0)return r}return r}searchMaxHeight(r){let s=-1/0;return r.forEach(n=>{s=Math.max(n.height,s)}),s}execute(){this.init();const r=this.computeSteps();return{maxHeight:this.searchMaxHeight(r),duration:this.time}}}},395:(M,c,e)=>{e.d(c,{TQ:()=>o,A:()=>u,JM:()=>r});const o=s("C",void 0,void 0);function u(n){return s("E",void 0,n)}function r(n){return s("N",n,void 0)}function s(n,a,p){return{kind:n,value:a,error:p}}},751:(M,c,e)=>{e.d(c,{y:()=>h});var o=e(934),u=e(921),r=e(822),s=e(635),n=e(416),a=e(576),p=e(806);let h=(()=>{class d{constructor(f){f&&(this._subscribe=f)}lift(f){const E=new d;return E.source=this,E.operator=f,E}subscribe(f,E,_){const m=function l(d){return d&&d instanceof o.Lv||function t(d){return d&&(0,a.m)(d.next)&&(0,a.m)(d.error)&&(0,a.m)(d.complete)}(d)&&(0,u.Nn)(d)}(f)?f:new o.Hp(f,E,_);return(0,p.x)(()=>{const{operator:v,source:P}=this;m.add(v?v.call(m,P):P?this._subscribe(m):this._trySubscribe(m))}),m}_trySubscribe(f){try{return this._subscribe(f)}catch(E){f.error(E)}}forEach(f,E){return new(E=i(E))((_,m)=>{const v=new o.Hp({next:P=>{try{f(P)}catch(g){m(g),v.unsubscribe()}},error:m,complete:_});this.subscribe(v)})}_subscribe(f){var E;return null===(E=this.source)||void 0===E?void 0:E.subscribe(f)}[r.L](){return this}pipe(...f){return(0,s.U)(f)(this)}toPromise(f){return new(f=i(f))((E,_)=>{let m;this.subscribe(v=>m=v,v=>_(v),()=>E(m))})}}return d.create=b=>new d(b),d})();function i(d){var b;return null!==(b=null!=d?d:n.v.Promise)&&void 0!==b?b:Promise}},758:(M,c,e)=>{e.d(c,{x:()=>a});var o=e(751),u=e(921),r=e(448),s=e(737),n=e(806);let a=(()=>{class h extends o.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const l=new p(this,this);return l.operator=t,l}_throwIfClosed(){if(this.closed)throw new r.N}next(t){(0,n.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const l=this.observers.slice();for(const d of l)d.next(t)}})}error(t){(0,n.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:l}=this;for(;l.length;)l.shift().error(t)}})}complete(){(0,n.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:l,isStopped:d,observers:b}=this;return l||d?u.Lc:(b.push(t),new u.w0(()=>(0,s.P)(b,t)))}_checkFinalizedStatuses(t){const{hasError:l,thrownError:d,isStopped:b}=this;l?t.error(d):b&&t.complete()}asObservable(){const t=new o.y;return t.source=this,t}}return h.create=(i,t)=>new p(i,t),h})();class p extends a{constructor(i,t){super(),this.destination=i,this.source=t}next(i){var t,l;null===(l=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===l||l.call(t,i)}error(i){var t,l;null===(l=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===l||l.call(t,i)}complete(){var i,t;null===(t=null===(i=this.destination)||void 0===i?void 0:i.complete)||void 0===t||t.call(i)}_subscribe(i){var t,l;return null!==(l=null===(t=this.source)||void 0===t?void 0:t.subscribe(i))&&void 0!==l?l:u.Lc}}},934:(M,c,e)=>{e.d(c,{Lv:()=>i,Hp:()=>t});var o=e(576),u=e(921),r=e(416),s=e(849),n=e(32),a=e(395),p=e(410),h=e(806);class i extends u.w0{constructor(_){super(),this.isStopped=!1,_?(this.destination=_,(0,u.Nn)(_)&&_.add(this)):this.destination=f}static create(_,m,v){return new t(_,m,v)}next(_){this.isStopped?b((0,a.JM)(_),this):this._next(_)}error(_){this.isStopped?b((0,a.A)(_),this):(this.isStopped=!0,this._error(_))}complete(){this.isStopped?b(a.TQ,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(_){this.destination.next(_)}_error(_){try{this.destination.error(_)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class t extends i{constructor(_,m,v){let P;if(super(),(0,o.m)(_))P=_;else if(_){let g;({next:P,error:m,complete:v}=_),this&&r.v.useDeprecatedNextContext?(g=Object.create(_),g.unsubscribe=()=>this.unsubscribe()):g=_,P=null==P?void 0:P.bind(g),m=null==m?void 0:m.bind(g),v=null==v?void 0:v.bind(g)}this.destination={next:P?l(P):n.Z,error:l(null!=m?m:d),complete:v?l(v):n.Z}}}function l(E,_){return(...m)=>{try{E(...m)}catch(v){r.v.useDeprecatedSynchronousErrorHandling?(0,h.O)(v):(0,s.h)(v)}}}function d(E){throw E}function b(E,_){const{onStoppedNotification:m}=r.v;m&&p.z.setTimeout(()=>m(E,_))}const f={closed:!0,next:n.Z,error:d,complete:n.Z}},921:(M,c,e)=>{e.d(c,{w0:()=>s,Lc:()=>n,Nn:()=>a});var o=e(576),u=e(896),r=e(737);class s{constructor(i){this.initialTeardown=i,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let i;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const b of t)b.remove(this);else t.remove(this);const{initialTeardown:l}=this;if((0,o.m)(l))try{l()}catch(b){i=b instanceof u.B?b.errors:[b]}const{_teardowns:d}=this;if(d){this._teardowns=null;for(const b of d)try{p(b)}catch(f){i=null!=i?i:[],f instanceof u.B?i=[...i,...f.errors]:i.push(f)}}if(i)throw new u.B(i)}}add(i){var t;if(i&&i!==this)if(this.closed)p(i);else{if(i instanceof s){if(i.closed||i._hasParent(this))return;i._addParent(this)}(this._teardowns=null!==(t=this._teardowns)&&void 0!==t?t:[]).push(i)}}_hasParent(i){const{_parentage:t}=this;return t===i||Array.isArray(t)&&t.includes(i)}_addParent(i){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(i),t):t?[t,i]:i}_removeParent(i){const{_parentage:t}=this;t===i?this._parentage=null:Array.isArray(t)&&(0,r.P)(t,i)}remove(i){const{_teardowns:t}=this;t&&(0,r.P)(t,i),i instanceof s&&i._removeParent(this)}}s.EMPTY=(()=>{const h=new s;return h.closed=!0,h})();const n=s.EMPTY;function a(h){return h instanceof s||h&&"closed"in h&&(0,o.m)(h.remove)&&(0,o.m)(h.add)&&(0,o.m)(h.unsubscribe)}function p(h){(0,o.m)(h)?h():h.unsubscribe()}},416:(M,c,e)=>{e.d(c,{v:()=>o});const o={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},410:(M,c,e)=>{e.d(c,{z:()=>o});const o={setTimeout(...u){const{delegate:r}=o;return((null==r?void 0:r.setTimeout)||setTimeout)(...u)},clearTimeout(u){const{delegate:r}=o;return((null==r?void 0:r.clearTimeout)||clearTimeout)(u)},delegate:void 0}},822:(M,c,e)=>{e.d(c,{L:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},448:(M,c,e)=>{e.d(c,{N:()=>u});const u=(0,e(888).d)(r=>function(){r(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"})},896:(M,c,e)=>{e.d(c,{B:()=>u});const u=(0,e(888).d)(r=>function(n){r(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((a,p)=>`${p+1}) ${a.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n})},737:(M,c,e)=>{function o(u,r){if(u){const s=u.indexOf(r);0<=s&&u.splice(s,1)}}e.d(c,{P:()=>o})},888:(M,c,e)=>{function o(u){const s=u(n=>{Error.call(n),n.stack=(new Error).stack});return s.prototype=Object.create(Error.prototype),s.prototype.constructor=s,s}e.d(c,{d:()=>o})},806:(M,c,e)=>{e.d(c,{x:()=>r,O:()=>s});var o=e(416);let u=null;function r(n){if(o.v.useDeprecatedSynchronousErrorHandling){const a=!u;if(a&&(u={errorThrown:!1,error:null}),n(),a){const{errorThrown:p,error:h}=u;if(u=null,p)throw h}}else n()}function s(n){o.v.useDeprecatedSynchronousErrorHandling&&u&&(u.errorThrown=!0,u.error=n)}},671:(M,c,e)=>{function o(u){return u}e.d(c,{y:()=>o})},576:(M,c,e)=>{function o(u){return"function"==typeof u}e.d(c,{m:()=>o})},32:(M,c,e)=>{function o(){}e.d(c,{Z:()=>o})},635:(M,c,e)=>{e.d(c,{U:()=>r});var o=e(671);function r(s){return 0===s.length?o.y:1===s.length?s[0]:function(a){return s.reduce((p,h)=>h(p),a)}}},849:(M,c,e)=>{e.d(c,{h:()=>r});var o=e(416),u=e(410);function r(s){u.z.setTimeout(()=>{const{onUnhandledError:n}=o.v;if(!n)throw s;n(s)})}}}]);